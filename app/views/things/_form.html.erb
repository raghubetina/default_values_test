<% was_validated = thing.errors.any? %>

<%= form_with(model: thing, local: true, novalidate: true, class: "mb-3") do |f| %>
  <div class="form-group">
    <% integer_column_class = "form-control" %>
    <% integer_column_was_invalid = thing.errors.include?(:integer_column) %>

    <% if was_validated %>
      <% if integer_column_was_invalid %>
        <% integer_column_class << " is-invalid" %>
      <% else %>
        <% integer_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :integer_column %>
    <%= f.number_field :integer_column, class: integer_column_class, placeholder: "Enter integer column" %>
    <% if integer_column_was_invalid %>
      <% thing.errors.full_messages_for(:integer_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% string_column_class = "form-control" %>
    <% string_column_was_invalid = thing.errors.include?(:string_column) %>

    <% if was_validated %>
      <% if string_column_was_invalid %>
        <% string_column_class << " is-invalid" %>
      <% else %>
        <% string_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :string_column %>
    <%= f.text_field :string_column, class: string_column_class, placeholder: "Enter string column" %>
    <% if string_column_was_invalid %>
      <% thing.errors.full_messages_for(:string_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% decimal_column_class = "form-control" %>
    <% decimal_column_was_invalid = thing.errors.include?(:decimal_column) %>

    <% if was_validated %>
      <% if decimal_column_was_invalid %>
        <% decimal_column_class << " is-invalid" %>
      <% else %>
        <% decimal_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :decimal_column %>
    <%= f.text_field :decimal_column, class: decimal_column_class, placeholder: "Enter decimal column" %>
    <% if decimal_column_was_invalid %>
      <% thing.errors.full_messages_for(:decimal_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% datetime_column_class = "form-control" %>
    <% datetime_column_was_invalid = thing.errors.include?(:datetime_column) %>

    <% if was_validated %>
      <% if datetime_column_was_invalid %>
        <% datetime_column_class << " is-invalid" %>
      <% else %>
        <% datetime_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :datetime_column %>
    <%= f.datetime_select :datetime_column, class: datetime_column_class, placeholder: "Enter datetime column" %>
    <% if datetime_column_was_invalid %>
      <% thing.errors.full_messages_for(:datetime_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% time_column_class = "form-control" %>
    <% time_column_was_invalid = thing.errors.include?(:time_column) %>

    <% if was_validated %>
      <% if time_column_was_invalid %>
        <% time_column_class << " is-invalid" %>
      <% else %>
        <% time_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :time_column %>
    <%= f.time_select :time_column, class: time_column_class, placeholder: "Enter time column" %>
    <% if time_column_was_invalid %>
      <% thing.errors.full_messages_for(:time_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% date_column_class = "form-control" %>
    <% date_column_was_invalid = thing.errors.include?(:date_column) %>

    <% if was_validated %>
      <% if date_column_was_invalid %>
        <% date_column_class << " is-invalid" %>
      <% else %>
        <% date_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :date_column %>
    <%= f.date_select :date_column, class: date_column_class, placeholder: "Enter date column" %>
    <% if date_column_was_invalid %>
      <% thing.errors.full_messages_for(:date_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% text_column_class = "form-control" %>
    <% text_column_was_invalid = thing.errors.include?(:text_column) %>

    <% if was_validated %>
      <% if text_column_was_invalid %>
        <% text_column_class << " is-invalid" %>
      <% else %>
        <% text_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :text_column %>
    <%= f.text_area :text_column, class: text_column_class, placeholder: "Enter text column" %>
    <% if text_column_was_invalid %>
      <% thing.errors.full_messages_for(:text_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-check">
    <% boolean_column_class = "form-check-input" %>
    <% boolean_column_was_invalid = thing.errors.include?(:boolean_column) %>

    <% if was_validated %>
      <% if boolean_column_was_invalid %>
        <% boolean_column_class << " is-invalid" %>
      <% else %>
        <% boolean_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :boolean_column, class: "form-check-label" do %>
      <%= f.check_box :boolean_column, class: boolean_column_class %> Boolean column
    <% end %>
    <% if boolean_column_was_invalid %>
      <% thing.errors.full_messages_for(:boolean_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% enum_column_class = "form-control" %>
    <% enum_column_was_invalid = thing.errors.include?(:enum_column) %>

    <% if was_validated %>
      <% if enum_column_was_invalid %>
        <% enum_column_class << " is-invalid" %>
      <% else %>
        <% enum_column_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :enum_column %>
    <%= f.select :enum_column, options_for_select(Thing.enum_columns.keys), {}, class: "form-control" %>
    <% if enum_column_was_invalid %>
      <% thing.errors.full_messages_for(:enum_column).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <%= f.button class: "btn btn-outline-secondary btn-block" %>
<% end %>
